<!DOCTYPE html>
<html lang="pt" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Colinhas - Relatórios</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Chewy|Overlock">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
    <link rel="stylesheet" href="css/estilos.css">
    <link rel="shortcut icon" href="images/favicon.gif">
    <style media="screen">
      .grafico-completude,
      .grafico-beleza {
        max-width: 160px
      }
      td.centered,
      th.centered {
        text-align: center;
      }
    </style>
  </head>
  <body>
    <header id="page-header">
      <h1>Colinhas <span class="coracao pulsando">❤️</span></h1>
      <div class="identificacao">
        <div class="logado" hidden>
          Logado como <span class="nome"></span>
          <button type="button" class="logout waves-effect waves-light btn btn-small deep-purple lighten-2">Sair</button>
        </div>
      </div>
    </header>
    <main>
      <h1>Relatórios</h1>
      <div id="relatorio" data-relatorio="avaliacoes-por-usuario">

      </div>
      <script type="text/template" id="avaliacoes-por-usuario">
        <table class="highlight responsive-table">
          <thead>
            <!-- são 6 colunas ao todo na tabela -->
            <tr>
              <th rowspan="2">Aluna(o)</th>
              <th rowspan="2" class="centered">Fez o trabalho?</th>
              <th rowspan="2" class="centered">Avaliações feitas</th>
              <th colspan="3" class="centered">Avaliações recebidas</th>
            </tr>
            <tr>
              <th class="centered">Completude</th>
              <th class="centered">Beleza</th>
              <th class="centered">Favoritadas</th>
            </tr>
          </thead>
          <tbody>
            {{#users}}
            <tr class="{{classeTemGraficos}}">
              <td>{{nome}}</td>
              <td class="centered">{{fezTrabalho}}</td>
              <td class="centered">{{avaliacoesFeitas}}</td>
              <td><div class="grafico-completude" data-completude="[{{avaliacoesRecebidas.completude}}]"></td>
              <td><div class="grafico-beleza" data-beleza="[{{avaliacoesRecebidas.beleza}}]"></td>
              <td class="centered">
                {{#avaliacoesRecebidas.favoritadas}}
                  {{avaliacoesRecebidas.favoritadas}} ♥️
                {{/avaliacoesRecebidas.favoritadas}}
              </td>
            </tr>
            {{/users}}
          </tbody>
          <tfoot></tfoot>
        </table>
      </script>
    </main>
    <script src="js/apexcharts.js"></script>
    <script src="js/mustache.js" charset="utf-8"></script>
    <script src="js/relatorio.js" charset="utf-8" type="module"></script>
  </body>
</html>
